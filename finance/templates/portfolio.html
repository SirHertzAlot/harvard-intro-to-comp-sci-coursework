{% extends "layout.html" %}

{% block title %}
    Your portfolio!
{% endblock %}

{% block main %}
<div>
    <div style="display:flex; justify-content:space-between; margin-bottom: 30px;">
        <div>Current Balance   {{ "$%.2f"|format(balance[0].cash) }}</div>

        {% if results %}
            <div>Grand total{{ "$%.2f"|format((results[0].price_per_share * results[0].amount) + balance[0].cash) }}</div>
        {% endif %}
    </div>
    <h1>Stock Portfolio</h1>
    {% for result in results %}
    <br>
        <div class="border" style="background-color:#efefef; display: flex; flex-direction:row; justify-content: space-evenly;">
            <table class="table table-striped">
                <thead>
                  <tr>
                    <th>Symbol</th>
                    <th>Shares</th>
                    <th>Price Per Share</th>
                    <th>TOTAL</th>
                  </tr>
                </thead>
                <tbody style="display:flex; flex-direction:row;">
                  <tr>
                    <br />
                    <td class="text-start">Ticker Symbol: {{result.symbol}}</td>
                    <td class="text-end">Amount of shares: {{result.amount}}</td>
                    <td class="text-end">Price Per Share: {{result.price_per_share}}</td>
                    <td class="text-end">Total Value of Holding: {{result.price_per_share * result.amount}}</td>
                  </tr>
                </tbody>
                <br>
              </table>
        </div>
    {% endfor %}
</div>
{% endblock %}

{% extends "layout.html" %}

{% block title %}
    Your portfolio!
{% endblock %}

{% block main %}
<div>
    <div style="display:flex; justify-content:space-between; margin-bottom: 30px;">
        <div>Current Balance   {{ "$%.2f"|format(balance[0].cash) }}</div>

        {% if results %}
            <div>Grand total{{ "$%.2f"|format((results[0].price_per_share * results[0].amount) + balance[0].cash) }}</div>
        {% endif %}
    </div>
    <h1>Stock Portfolio</h1>
    {% for result in results %}
    <br>
        <div class="border">
            <table class="table table-striped">
                <thead>
                  <tr>
                    <th class="text-start">Symbol</th>
                    <th class="text-end">Shares</th>
                    <th class="text-end">Price Per Share</th>
                    <th class="text-end">TOTAL</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <br />
                    <td class="text-start">{{result.symbol}}</td>
                    <td class="text-end">{{result.amount}}</td>
                    <td class="text-end">{{result.price_per_share}}</td>
                    <td class="text-end">{{result.price_per_share * result.amount}}</td>
                  </tr>
                </tbody>
                <br>
              </table>
        </div>
    {% endfor %}
</div>
{% endblock %}
